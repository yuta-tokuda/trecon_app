$(function() {
  $('.content-form').on('keydown keyup keypress change', function() {
    $.ajax({
      url: '/common/realtime_preview',
      format: 'js',
      data: { content: $('#markdown-content').val() }
    });
  });

  $('.note-description_button').on('click', function(e){
    e.preventDefault();
    $('#overlay, #window').fadeIn('slow');
    $('#overlay, .close').on('click', function(){
        $('#overlay, #window').fadeOut('slow');
    });
  });
});

$(document).on('ready page:load', function() {
  return $('#note-tags').tagit({
    singleField: true,
    availableTags: gon.all_tag_list
  });
});
